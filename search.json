[{"path":"https://cparsania.github.io/BamScale/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Chirag Patel. Author, maintainer.","code":""},{"path":"https://cparsania.github.io/BamScale/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Patel C (2026). BamScale: Bioconductor-Friendly Multithreaded BAM Processing. R package version 0.1.0.","code":"@Manual{,   title = {Bioconductor-Friendly Multithreaded BAM Processing},   author = {Chirag Patel},   year = {2026},   note = {R package version 0.1.0}, }"},{"path":"https://cparsania.github.io/BamScale/index.html","id":"bamscale","dir":"","previous_headings":"","what":"Bioconductor-Friendly Multithreaded BAM Processing","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"BamScale Bioconductor-friendly, multithreaded BAM processing package R built top ompBAM C++ engine. designed users want scanBam/readGAlignments-style ergonomics explicit control modern CPU parallelism.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"why-bamscale","dir":"","previous_headings":"","what":"Why BamScale?","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"BAM analysis pipelines R often face two practical constraints: high per-file latency large BAMs using single-thread readers, workflow friction switching fast low-level tools Bioconductor-native data structures. BamScale addresses combining: OpenMP-enabled C++ backend (ompBAM), Bioconductor-compatible R interface (file, param, , tag, BPPARAM), direct output modes downstream ecosystem interoperability.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"ompbam-vs-bamscale","dir":"","previous_headings":"","what":"ompBAM vs BamScale","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"ompBAM BamScale complementary layers. ompBAM provides high-performance C++ BAM decode/scan core. BamScale provides user-facing R contract Bioconductor workflows.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"what-ompbam-already-solves","dir":"","previous_headings":"ompBAM vs BamScale","what":"What ompBAM already solves","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"fast sequential BAM parsing decompression C++, thread-level parallelism via OpenMP, low-level access alignment fields.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"what-bamscale-adds","dir":"","previous_headings":"ompBAM vs BamScale","what":"What BamScale adds","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"bam_read() read extraction, bam_count() chromosome-level counting, compatibility ScanBamParam semantics (mapqFilter, flag, , , tag), data.frame, S4Vectors::DataFrame, GenomicAlignments::GAlignments, GenomicAlignments::GAlignmentPairs, scan-like list output (= \"scanBam\"), nested parallelism control (threads, BPPARAM, auto_threads) cpuset-aware thread capping, reproducible benchmark framework strict fair vs optimized tracks.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"main-functions","dir":"","previous_headings":"","what":"Main Functions","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"Inputs: character, Rsamtools::BamFile, Rsamtools::BamFileList Supported fields: qname, flag, rname, strand, pos, qwidth, mapq, cigar, mrnm, mpos, isize, seq, qual Output modes: \"DataFrame\", \"data.frame\", \"GAlignments\", \"GAlignmentPairs\", \"scanBam\" \"compatible\" (default): character seq/qual Bioconductor compatibility \"compact\": raw list-columns high-throughput seq/qual extraction fast chromosome-level counts filtering semantics (mapqFilter, flag, )","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"BamScale requires: R C++17 toolchain, OpenMP-capable compiler/runtime, ompBAM installed discoverable R. Install source (inside repository):","code":"R CMD INSTALL ."},{"path":"https://cparsania.github.io/BamScale/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"","code":"library(BamScale)  bam <- ompBAM::example_BAM(\"Unsorted\")  # 1) Bioconductor-familiar extraction x <- bam_read(   file = bam,   what = c(\"qname\", \"flag\", \"rname\", \"pos\", \"mapq\", \"cigar\"),   threads = 4 )  # 2) Seq/qual extraction (default compatible mode) sq <- bam_read(   file = bam,   what = c(\"qname\", \"seq\", \"qual\"),   as = \"data.frame\",   seqqual_mode = \"compatible\",   threads = 4 )  # 3) High-throughput compact seq/qual path sq_compact <- bam_read(   file = bam,   what = c(\"qname\", \"seq\", \"qual\"),   as = \"data.frame\",   seqqual_mode = \"compact\",   threads = 4 )  # 4) scanBam-shaped output scan_like <- bam_read(   file = bam,   what = c(\"qname\", \"flag\"),   tag = c(\"NM\"),   as = \"scanBam\",   threads = 4 )  # 5) Fast count summary counts <- bam_count(file = bam, threads = 4)"},{"path":"https://cparsania.github.io/BamScale/index.html","id":"parallelism-model","dir":"","previous_headings":"","what":"Parallelism Model","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"BamScale supports two parallel axes: across files: BPPARAM workers, within file: OpenMP threads. Approximate total concurrency: min(length(file), BiocParallel::bpnworkers(BPPARAM)) * threads auto_threads = TRUE, per-file OpenMP threads capped reduce oversubscription multi-worker runs.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"benchmarking-and-reproducibility","dir":"","previous_headings":"","what":"Benchmarking and Reproducibility","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"Benchmark assets live inst/benchmarks/. Runner: inst/benchmarks/run_server_benchmark.R Report: inst/benchmarks/benchmark_report.qmd Protocol: inst/benchmarks/README.md benchmark framework separates: fair track: strict BamScale vs comparator comparison (Rsamtools, GenomicAlignments), optimized track: BamScale-optimized configurations (example compact seq/qual). prevents mixing optimization-paths cross-package claims.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"current-limitations-transparent","dir":"","previous_headings":"","what":"Current Limitations (Transparent)","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"param$implemented sequential filtering, indexed random-access jumps. seqqual_mode = \"compact\" currently supported = \"data.frame\" = \"DataFrame\". GAlignments / GAlignmentPairs outputs drop unmapped records design. fixed total thread budget, higher worker counts can lose lower worker counts process overhead, serialization, memory pressure, storage contention. Observed speedups workload-, storage-, hardware-dependent.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"what-has-been-improved-recently","dir":"","previous_headings":"","what":"What Has Been Improved Recently","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"Added compact seq/qual extraction path lower-overhead high-throughput runs. Optimized core C++ hot paths (decode/merge/allocation behavior). Added cpuset-aware core detection reliable thread budgeting container/HPC environments. Redesigned benchmark workflow/report make fair vs optimized interpretation explicit.","code":""},{"path":"https://cparsania.github.io/BamScale/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Bioconductor-Friendly Multithreaded BAM Processing","text":"MIT (LICENSE).","code":""},{"path":"https://cparsania.github.io/BamScale/reference/BamScale-package.html","id":null,"dir":"Reference","previous_headings":"","what":"BamScale: Bioconductor-Friendly Multithreaded BAM Processing — BamScale-package","title":"BamScale: Bioconductor-Friendly Multithreaded BAM Processing — BamScale-package","text":"Multithreaded sequential BAM processing built top ompBAM C++ engine. BamScale provides user-friendly BAM read scan interfaces designed compatibility existing Bioconductor workflows.","code":""},{"path":"https://cparsania.github.io/BamScale/reference/BamScale-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"BamScale: Bioconductor-Friendly Multithreaded BAM Processing — BamScale-package","text":"Maintainer: Chirag Patel chirag@example.com","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Count BAM records with Bioconductor-compatible filtering — bam_count","title":"Count BAM records with Bioconductor-compatible filtering — bam_count","text":"bam_count() provides fast chromosome-level count summary, honoring key filtering fields ScanBamParam (mapqFilter, flag, ).","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Count BAM records with Bioconductor-compatible filtering — bam_count","text":"","code":"bam_count(   file,   param = NULL,   threads = 1L,   BPPARAM = NULL,   auto_threads = FALSE,   include_unmapped = TRUE )"},{"path":"https://cparsania.github.io/BamScale/reference/bam_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Count BAM records with Bioconductor-compatible filtering — bam_count","text":"file BAM input (character, BamFile, BamFileList). param Optional Rsamtools::ScanBamParam (compatible list). threads Requested number OpenMP threads. May capped auto_threads = TRUE. BPPARAM Optional BiocParallel parameter multi-file operation. auto_threads Logical; TRUE BPPARAM multiple workers, BamScale automatically caps per-file OpenMP threads avoid oversubscription. include_unmapped Whether include extra * row unmapped records.","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_count.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Count BAM records with Bioconductor-compatible filtering — bam_count","text":"one file: data.frame columns seqname, seqlength, count. multiple files: named list data.frames.","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_count.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Count BAM records with Bioconductor-compatible filtering — bam_count","text":"Parallelism behavior matches bam_read(): BPPARAM distributes work across BAM files, threads controls OpenMP work within file. auto_threads = TRUE BPPARAM multiple workers, per-file OpenMP threads capped using max(1, min(threads, floor(available_cores / workers_eff))), workers_eff = min(length(file), BiocParallel::bpnworkers(BPPARAM)).","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_count.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Count BAM records with Bioconductor-compatible filtering — bam_count","text":"","code":"if (requireNamespace(\"ompBAM\", quietly = TRUE)) {   bam <- ompBAM::example_BAM(\"Unsorted\")   bam_count(bam, threads = 2) } #>    seqname seqlength count #> 1        1 248956422  1308 #> 2       10 133797422   308 #> 3       11 135086622   600 #> 4       12 133275309   648 #> 5       13 114364328   162 #> 6       14 107043718   230 #> 7       15 101991189   294 #> 8       16  90338345   334 #> 9       17  83257441   570 #> 10      18  80373285    78 #> 11      19  58617616   600 #> 12       2 242193529   586 #> 13      20  64444167   168 #> 14      21  46709983    76 #> 15      22  50818468   200 #> 16       3 198295559   454 #> 17       4 190214555   252 #> 18       5 181538259   516 #> 19       6 170805979   824 #> 20       7 159345973   412 #> 21       8 145138636   452 #> 22       9 138394717   372 #> 23      MT     16569   288 #> 24       X 156040895   254 #> 25       Y  57227415    14 #> 26       *        NA     0"},{"path":"https://cparsania.github.io/BamScale/reference/bam_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","title":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","text":"bam_read() multithreaded sequential BAM reader built top ompBAM. interface designed familiar users Rsamtools::scanBam(), GenomicAlignments::readGAlignments(), GenomicAlignments::readGAlignmentPairs().","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","text":"","code":"bam_read(   file,   param = NULL,   what = NULL,   tag = NULL,   as = c(\"DataFrame\", \"data.frame\", \"GAlignments\", \"GAlignmentPairs\", \"scanBam\"),   seqqual_mode = c(\"compatible\", \"compact\"),   threads = 1L,   BPPARAM = NULL,   auto_threads = FALSE,   use.names = FALSE,   with.which_label = FALSE,   include_unmapped = TRUE )"},{"path":"https://cparsania.github.io/BamScale/reference/bam_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","text":"file BAM input. Supported values : single BAM path (character(1)) multiple BAM paths, Rsamtools::BamFile, Rsamtools::BamFileList. param Optional Rsamtools::ScanBamParam (compatible list lightweight use). following fields honored: mapqFilter, flag, , , tag. Character vector fields return, similar scanBam(=...). Supported fields qname, flag, rname, strand, pos, qwidth, mapq, cigar, mrnm, mpos, isize, seq, qual. tag Character vector 2-letter tag names extract. Output format: \"DataFrame\": returns S4Vectors::DataFrame (default), \"data.frame\": returns base data.frame, \"GAlignments\": returns GenomicAlignments::GAlignments, \"GAlignmentPairs\": returns GenomicAlignments::GAlignmentPairs, \"scanBam\": returns scanBam()-shaped list--lists. seqqual_mode Controls representation seq/qual fields requested: \"compatible\" (default): return character vectors matching scanBam-style expectations, \"compact\": return raw list-columns faster/lower-overhead extraction. mode currently supported = \"data.frame\" = \"DataFrame\". threads Requested number OpenMP threads used reading/decompression. May capped auto_threads = TRUE. BPPARAM Optional BiocParallel parameter used file contains one BAM. NULL, files processed serially. auto_threads Logical; TRUE BPPARAM multiple workers, BamScale automatically caps per-file OpenMP threads avoid oversubscription. use.names Passed alignment object conversion. TRUE, read names (qname) used object names. .which_label Logical; TRUE param includes , extra which_label column returned. include_unmapped Logical; whether unmapped records retained (subject param$flag constraints).","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","text":"file length 1: one object format specified . file length > 1 (BamFileList): named list outputs, one per BAM file.","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_read.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","text":"bam_read() intentionally column-compatible common BAM fields used Bioconductor workflows can used fast drop-reader conversion downstream classes. Parallelism model: BPPARAM parallelizes across files (one file per BiocParallel worker). threads parallelizes within file via OpenMP. Effective total concurrency approximately min(length(file), BiocParallel::bpnworkers(BPPARAM)) * threads. auto_threads = TRUE BPPARAM multiple workers, per-file OpenMP threads set max(1, min(threads, floor(available_cores / workers_eff))), workers_eff = min(length(file), BiocParallel::bpnworkers(BPPARAM)). Compatibility notes: Region filtering via param$supported sequential filter (index-jump random access). Flag filtering uses ScanBamFlag semantics converting logical flag requirements required-set required-unset bit masks. Tag values returned character columns. Scalar tags scalar strings; B tags comma-separated vectors. seqqual_mode = \"compact\" optimized throughput-oriented benchmarking returns raw list-columns seq/qual. \"GAlignments\" \"GAlignmentPairs\" output exclude unmapped records. = \"scanBam\" returns strict scan-like list--lists: without param$, returns one unnamed batch; param$, returns one batch per range label (including empty ranges), requested fields tag values $tag. Biostrings installed, seq qual returned DNAStringSet PhredQuality closer scanBam() compatibility.","code":""},{"path":"https://cparsania.github.io/BamScale/reference/bam_read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fast BAM reading with Bioconductor-compatible arguments — bam_read","text":"","code":"if (requireNamespace(\"ompBAM\", quietly = TRUE)) {   bam <- ompBAM::example_BAM(\"Unsorted\")    # Familiar scanBam-like field selection   x <- bam_read(bam, what = c(\"qname\", \"flag\", \"rname\", \"pos\", \"cigar\"))    # Include sequence + quality   y <- bam_read(bam, what = c(\"qname\", \"seq\", \"qual\"), threads = 2)    # scanBam-shaped output   z <- bam_read(bam, what = c(\"qname\", \"flag\"), tag = \"NM\", as = \"scanBam\") }"}]
